{"openapi":"3.0.2","info":{"title":"Solar Performance Insight API","description":"\nThe backend RESTful API for Solar Performance Insight.\n\n# Introduction\n\n# Authentication\n\n","version":"0.1.dev45+ga37306c.d20201123","contact":{"name":"Solar Performance Insight Team","email":"info@solarperformanceinsight.org","url":"https://github.com/solarperformanceinsight/solarperformanceinsight-api"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"paths":{"/systems/":{"get":{"tags":["PV Systems"],"summary":"List Systems","description":"List available PV systems","operationId":"list_systems_systems__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Systems Systems  Get","type":"array","items":{"$ref":"#/components/schemas/StoredPVSystem"}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["PV Systems"],"summary":"Create System","description":"Create a new PV System","operationId":"create_system_systems__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PVSystem"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoredObjectID"}}},"links":{"Get System":{"operationId":"get_system_systems__system_id__get","parameters":{"system_id":"$response.body#/object_id"}},"Delete System":{"operationId":"delete_system_systems__system_id__delete","parameters":{"system_id":"$response.body#/object_id"}},"Update System":{"operationId":"update_system_systems__system_id__post","parameters":{"system_id":"$response.body#/object_id"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/systems/{system_id}":{"get":{"tags":["PV Systems"],"summary":"Get System","description":"Get a single PV System","operationId":"get_system_systems__system_id__get","parameters":[{"required":true,"schema":{"title":"System Id","type":"string","format":"uuid"},"name":"system_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoredPVSystem"}}},"links":{"Get System":{"operationId":"get_system_systems__system_id__get","parameters":{"system_id":"$response.body#/object_id"}},"Delete System":{"operationId":"delete_system_systems__system_id__delete","parameters":{"system_id":"$response.body#/object_id"}},"Update System":{"operationId":"update_system_systems__system_id__post","parameters":{"system_id":"$response.body#/object_id"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["PV Systems"],"summary":"Update System","description":"Update a PV System","operationId":"update_system_systems__system_id__post","parameters":[{"required":true,"schema":{"title":"System Id","type":"string","format":"uuid"},"name":"system_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PVSystem"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoredObjectID"}}},"links":{"Get System":{"operationId":"get_system_systems__system_id__get","parameters":{"system_id":"$response.body#/object_id"}},"Delete System":{"operationId":"delete_system_systems__system_id__delete","parameters":{"system_id":"$response.body#/object_id"}},"Update System":{"operationId":"update_system_systems__system_id__post","parameters":{"system_id":"$response.body#/object_id"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["PV Systems"],"summary":"Delete System","description":"Delete a PV system","operationId":"delete_system_systems__system_id__delete","parameters":[{"required":true,"schema":{"title":"System Id","type":"string","format":"uuid"},"name":"system_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/user/":{"get":{"tags":["User"],"summary":"Get User Info","description":"Get info about the current user","operationId":"get_user_info_user__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"FixedTracking":{"title":"FixedTracking","required":["tilt","azimuth"],"type":"object","properties":{"tilt":{"title":"Tilt","maximum":180.0,"minimum":0.0,"type":"number","description":"Tilt of modules in degrees from horizontal"},"azimuth":{"title":"Azimuth","exclusiveMaximum":360.0,"minimum":0.0,"type":"number","description":"Azimuth of modules relative to North in degrees"}},"description":"Parameters for a fixed tilt array"},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Inverter":{"title":"Inverter","required":["arrays","inverter_parameters"],"type":"object","properties":{"name":{"title":"Name","maxLength":128,"pattern":"^(?!\\W+$)(?![_ ',\\-\\(\\)]+$)[\\w ',\\-\\(\\)]*$","type":"string","description":"Name of this inverter","default":""},"make_model":{"title":"Make & Model","maxLength":128,"pattern":"^(?!\\W+$)(?![_ ',\\-\\(\\)]+$)[\\w ',\\-\\(\\)]*$","type":"string","description":"Make and model of the inverter","default":""},"arrays":{"title":"Arrays","type":"array","items":{"$ref":"#/components/schemas/PVArray"},"description":"List of PV arrays that are connected to this inverter"},"losses":{"title":"Losses","allOf":[{"$ref":"#/components/schemas/PVWattsLosses"}],"description":"Parameters describing the array losses","default":{}},"inverter_parameters":{"title":"Inverter Parameters","anyOf":[{"$ref":"#/components/schemas/PVWattsInverterParameters"},{"$ref":"#/components/schemas/SandiaInverterParameters"}],"description":"Power conversion parameters for the inverter"}},"description":"Parameters for a single inverter feeding into a PV system"},"PVArray":{"title":"PVArray","required":["module_parameters","temperature_model_parameters","tracking","modules_per_string","strings"],"type":"object","properties":{"name":{"title":"Name","maxLength":128,"pattern":"^(?!\\W+$)(?![_ ',\\-\\(\\)]+$)[\\w ',\\-\\(\\)]*$","type":"string","description":"Name of this array","default":""},"make_model":{"title":"Make & Model","maxLength":128,"pattern":"^(?!\\W+$)(?![_ ',\\-\\(\\)]+$)[\\w ',\\-\\(\\)]*$","type":"string","description":"Make and model of the PV modules in this array","default":""},"module_parameters":{"title":"Module Parameters","anyOf":[{"$ref":"#/components/schemas/PVsystModuleParameters"},{"$ref":"#/components/schemas/PVWattsModuleParameters"}],"description":"Parameters describing PV modules in this array"},"temperature_model_parameters":{"title":"Temperature Model Parameters","anyOf":[{"$ref":"#/components/schemas/PVsystTemperatureParameters"},{"$ref":"#/components/schemas/SAPMTemperatureParameters"}],"description":"Parameters describing the temperature characteristics of the modules"},"tracking":{"title":"Tracking","anyOf":[{"$ref":"#/components/schemas/FixedTracking"},{"$ref":"#/components/schemas/SingleAxisTracking"}],"description":"Parameters describing single-axis tracking or fixed mounting"},"modules_per_string":{"title":"Modules Per String","exclusiveMinimum":0.0,"type":"integer","description":"Number of PV modules per string"},"strings":{"title":"Strings","exclusiveMinimum":0.0,"type":"integer","description":"Number of parallel strings in the array"}},"description":"Parameters of a PV array that feeds into one inverter"},"PVSystem":{"title":"PVSystem","required":["name","latitude","longitude","elevation","albedo","inverters"],"type":"object","properties":{"name":{"title":"Name","maxLength":128,"pattern":"^(?!\\W+$)(?![_ ',\\-\\(\\)]+$)[\\w ',\\-\\(\\)]*$","type":"string","description":"Name of the system"},"latitude":{"title":"Latitude","maximum":90.0,"minimum":-90.0,"type":"number","description":"Latitude of the system in degrees North"},"longitude":{"title":"Longitude","maximum":180.0,"minimum":-180.0,"type":"number","description":"Longitude of the system in degrees East"},"elevation":{"title":"Elevation","minimum":-300.0,"type":"number","description":"Elevation of the system above sea level in meters"},"albedo":{"title":"Albedo","minimum":0.0,"type":"number","description":"Albedo of the surface around the system"},"inverters":{"title":"Inverters","type":"array","items":{"$ref":"#/components/schemas/Inverter"},"description":"List of inverters that make up this system"}},"description":"Parameters for an entire PV system at some location","example":{"name":"Test PV System","latitude":33.98,"longitude":-115.323,"elevation":2300,"albedo":0.2,"inverters":[{"name":"Inverter 1","make_model":"ABB__MICRO_0_25_I_OUTD_US_208__208V_","inverter_parameters":{"Pso":2.08961,"Paco":250,"Pdco":259.589,"Vdco":40,"C0":-4.1e-05,"C1":-9.1e-05,"C2":0.000494,"C3":-0.013171,"Pnt":0.075},"losses":{},"arrays":[{"name":"Array 1","make_model":"Canadian_Solar_Inc__CS5P_220M","modules_per_string":7,"strings":5,"tracking":{"tilt":20.0,"azimuth":180.0},"temperature_model_parameters":{"u_c":29.0,"u_v":0.0,"eta_m":0.1,"alpha_absorption":0.9},"module_parameters":{"alpha_sc":0.004539,"gamma_ref":1.2,"mu_gamma":-0.003,"I_L_ref":5.11426,"I_o_ref":8.10251e-10,"R_sh_ref":381.254,"R_s":1.06602,"R_sh_0":400.0,"cells_in_series":96}}]}]}},"PVWattsInverterParameters":{"title":"PVWattsInverterParameters","required":["pdc0"],"type":"object","properties":{"pdc0":{"title":"Pdc0","type":"number","description":"DC power input which produces the rated AC output power at the nominal DC voltage of the inverter"},"eta_inv_nom":{"title":"Eta Inv Nom","type":"number","description":"Nominal inverter efficiency, unitless","default":0.96},"eta_inv_ref":{"title":"Eta Inv Ref","type":"number","description":"Reference inverter efficiency, unitless","default":0.9637}},"description":"DC-AC power conversion parameters of an inverter for the PVWatts model"},"PVWattsLosses":{"title":"PVWattsLosses","type":"object","properties":{"soiling":{"title":"Soiling","type":"number","description":"Soiling loss, %","default":2.0},"shading":{"title":"Shading","type":"number","description":"Shading loss, %","default":3.0},"snow":{"title":"Snow","type":"number","description":"Snow loss, %","default":0.0},"mismatch":{"title":"Mismatch","type":"number","description":"Mismatch loss, %","default":2.0},"wiring":{"title":"Wiring","type":"number","description":"Wiring loss, %","default":2.0},"connections":{"title":"Connections","type":"number","description":"Connections loss, %","default":0.5},"lid":{"title":"Lid","type":"number","description":"Light induced degradation, %","default":1.5},"nameplate_rating":{"title":"Nameplate Rating","type":"number","description":"Nameplate Rating loss, %","default":1.0},"age":{"title":"Age","type":"number","description":"Age loss, %","default":0.0},"availability":{"title":"Availability","type":"number","description":"Availability loss, %","default":3.0}},"description":"Parameters describing the PVWatts system loss model"},"PVWattsModuleParameters":{"title":"PVWattsModuleParameters","required":["pdc0","gamma_pdc"],"type":"object","properties":{"pdc0":{"title":"Pdc0","type":"number","description":"Power of the modules at 1000 W/m^2 and cell reference temperature"},"gamma_pdc":{"title":"Gamma Pdc","type":"number","description":"Temperature coefficient of power in units of 1/C. Typically -0.002 to -0.005 per degree C"}},"description":"Parameters for the modules that make up an array in a PVWatts-like model"},"PVsystModuleParameters":{"title":"PVsystModuleParameters","required":["alpha_sc","gamma_ref","mu_gamma","I_L_ref","I_o_ref","R_sh_ref","R_sh_0","R_s","cells_in_series"],"type":"object","properties":{"alpha_sc":{"title":"Alpha Sc","type":"number","description":"Short-circuit current temperature coefficient of the module in units of A/C"},"gamma_ref":{"title":"Gamma Ref","minimum":0.0,"type":"number","description":"Diode ideality factor"},"mu_gamma":{"title":"Mu Gamma","type":"number","description":"Temperature coefficient for the diode ideality factor, 1/K"},"I_L_ref":{"title":"I L Ref","type":"number","description":"Light-generated current (or photocurrent) at reference conditions,in amperes"},"I_o_ref":{"title":"I O Ref","type":"number","description":"Dark or diode reverse saturation current at reference conditions,in amperes"},"R_sh_ref":{"title":"R Sh Ref","type":"number","description":"Shunt resistance at reference conditions, in ohms"},"R_sh_0":{"title":"R Sh 0","type":"number","description":"Shunt resistance at zero irradiance conditions, in ohms"},"R_s":{"title":"R S","type":"number","description":"Series resistance at reference conditions, in ohms"},"cells_in_series":{"title":"Cells In Series","minimum":0.0,"type":"integer","description":"Number of cells connected in series in a module"},"R_sh_exp":{"title":"R Sh Exp","type":"number","description":"Exponent in the equation for shunt resistance, unitless","default":5.5},"EgRef":{"title":"Egref","exclusiveMinimum":0.0,"type":"number","description":"Energy bandgap at reference temperature in units of eV. 1.121 eV for crystsalline silicon.","default":1.121}},"description":"Parameters for the modules that make up an array in a PVsyst-like model"},"PVsystTemperatureParameters":{"title":"PVsystTemperatureParameters","type":"object","properties":{"u_c":{"title":"U C","type":"number","description":"Combined heat loss factor coefficient, units of W/m^2/C","default":29.0},"u_v":{"title":"U V","type":"number","description":"Combined heat loss factor influenced by wind, units of (W/m^2)/(C m/s)","default":0.0},"eta_m":{"title":"Eta M","type":"number","description":"Module external efficiency as a fraction","default":0.1},"alpha_absorption":{"title":"Alpha Absorption","type":"number","description":"Absorption coefficient","default":0.9}},"description":"Parameters for the cell temperature model of the modules in a\nPVSyst-like model"},"SAPMTemperatureParameters":{"title":"SAPMTemperatureParameters","required":["a","b","deltaT"],"type":"object","properties":{"a":{"title":"A","type":"number","description":"Parameter a of the Sandia Array Performance Model"},"b":{"title":"B","type":"number","description":"Parameter b of the Sandia Array Performance Model"},"deltaT":{"title":"Deltat","type":"number","description":"Parameter delta T of the Sandia Array Performance Model"}},"description":"Parameters for the cell temperature model of the modules in the\nSandia Array Performance Model"},"SandiaInverterParameters":{"title":"SandiaInverterParameters","required":["Paco","Pdco","Vdco","Pso","C0","C1","C2","C3","Pnt"],"type":"object","properties":{"Paco":{"title":"Paco","type":"number","description":"AC power rating of the inverter, W"},"Pdco":{"title":"Pdco","type":"number","description":"DC power which produces the rated AC output power at the nominal DC voltage of the inverter, W"},"Vdco":{"title":"Vdco","type":"number","description":"Nominal DC voltage at which the AC power rating is determined, V"},"Pso":{"title":"Pso","type":"number","description":"DC power required to start the inversion process, assumed equal to self consumption by the inverter, W"},"C0":{"title":"C0","type":"number","description":"Parameter defining the curvature of the relationship between AC power and DC power at reference operating conditions, 1/W"},"C1":{"title":"C1","type":"number","description":"Empirical coefficient allowing Pdco to vary linearly with DC voltage input, 1/V"},"C2":{"title":"C2","type":"number","description":"Empirical coefficient allowing Pso to vary linearly with DC voltage input, 1/V"},"C3":{"title":"C3","type":"number","description":"Empirical coefficient allowing C0 to vary linearly with DC voltage input, 1/V"},"Pnt":{"title":"Pnt","type":"number","description":"AC power consumed by the inverter when no AC power is exported  (i.e., night tare), W"}},"description":"DC-AC power conversion parameters of an inverter for Sandia's\nGrid-Connected PV Inverter model"},"SingleAxisTracking":{"title":"SingleAxisTracking","required":["axis_tilt","axis_azimuth","gcr","backtracking"],"type":"object","properties":{"axis_tilt":{"title":"Axis Tilt","maximum":90.0,"minimum":0.0,"type":"number","description":"Tilt of tracker axis in degrees from horizontal"},"axis_azimuth":{"title":"Axis Azimiuth","exclusiveMaximum":360.0,"minimum":0.0,"type":"number","description":"Azimuth of tracker axis clockwise from North in degrees"},"gcr":{"title":"GCR","minimum":0.0,"type":"number","description":"Ground coverage ratio: ratio of module length to the spacing between trackers"},"backtracking":{"title":"Backtracking","type":"boolean","description":"True if the tracking system supports backtracking"}},"description":"Parameters for a single axis tracking array"},"StoredObjectID":{"title":"StoredObjectID","required":["object_id"],"type":"object","properties":{"object_id":{"title":"Object Id","type":"string","description":"Unique identifier of the object","format":"uuid"},"object_type":{"title":"Object Type","type":"string","description":"Type of the object","default":"system"}},"example":{"object_id":"6b61d9ac-2e89-11eb-be2a-4dc7a6bcd0d9","object_type":"system"}},"StoredPVSystem":{"title":"StoredPVSystem","required":["object_id","created_at","modified_at","definition"],"type":"object","properties":{"object_id":{"title":"Object Id","type":"string","description":"Unique identifier of the object","format":"uuid"},"object_type":{"title":"Object Type","type":"string","description":"Type of the object","default":"system"},"created_at":{"title":"Created At","type":"string","description":"Datetime the object was created","format":"date-time"},"modified_at":{"title":"Modified At","type":"string","description":"Datetime the object was last modified","format":"date-time"},"definition":{"$ref":"#/components/schemas/PVSystem"}},"example":{"object_id":"6b61d9ac-2e89-11eb-be2a-4dc7a6bcd0d9","object_type":"system","created_at":"2020-12-01T01:23:00+00:00","modified_at":"2020-12-01T01:23:00+00:00","definition":{"name":"Test PV System","latitude":33.98,"longitude":-115.323,"elevation":2300,"albedo":0.2,"inverters":[{"name":"Inverter 1","make_model":"ABB__MICRO_0_25_I_OUTD_US_208__208V_","inverter_parameters":{"Pso":2.08961,"Paco":250,"Pdco":259.589,"Vdco":40,"C0":-4.1e-05,"C1":-9.1e-05,"C2":0.000494,"C3":-0.013171,"Pnt":0.075},"losses":{},"arrays":[{"name":"Array 1","make_model":"Canadian_Solar_Inc__CS5P_220M","modules_per_string":7,"strings":5,"tracking":{"tilt":20.0,"azimuth":180.0},"temperature_model_parameters":{"u_c":29.0,"u_v":0.0,"eta_m":0.1,"alpha_absorption":0.9},"module_parameters":{"alpha_sc":0.004539,"gamma_ref":1.2,"mu_gamma":-0.003,"I_L_ref":5.11426,"I_o_ref":8.10251e-10,"R_sh_ref":381.254,"R_s":1.06602,"R_sh_0":400.0,"cells_in_series":96}}]}]}}},"UserInfo":{"title":"UserInfo","required":["object_id","created_at","modified_at","auth0_id"],"type":"object","properties":{"object_id":{"title":"Object Id","type":"string","description":"Unique identifier of the object","format":"uuid"},"object_type":{"title":"Object Type","type":"string","description":"Type of the object","default":"system"},"created_at":{"title":"Created At","type":"string","description":"Datetime the object was created","format":"date-time"},"modified_at":{"title":"Modified At","type":"string","description":"Datetime the object was last modified","format":"date-time"},"auth0_id":{"title":"Auth0 Id","type":"string","description":"User ID from Auth 0"}},"description":"Information about the current user","example":{"object_id":"6b61d9ac-2e89-11eb-be2a-4dc7a6bcd0d9","object_type":"system","created_at":"2020-12-01T01:23:00+00:00","modified_at":"2020-12-01T01:23:00+00:00"}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"Power Plant","description":"Power Plant description"}]}
